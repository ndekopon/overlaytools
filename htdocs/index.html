<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <title>ApexLegends LiveAPI ⇔ WebAPI Playground</title>
    <link rel="stylesheet" href="webapi-config.css" />
</head>

<body>

<div id="sidebar">
    <div>
        <h3>MENU</h3>
        <ul id="sidebarmenu">
            <li>
                Tournament
                <ul>
                    <li><a href="#tournament-set">set</a></li>
                    <li><a href="#tournament-rename">rename</a></li>
                </ul>
            </li>
            <li>
                Observer
                <ul>
                    <li><a href="#observer-set">set</a></li>
                </ul>
            </li>
            <li>Player
                <ul>
                    <li><a href="#player-name">set name</a></li>
                </ul>
            </li>
            <li>Team
                <ul>
                    <li><a href="#team-name">set name</a></li>
                </ul>
            </li>
            <li><a href="#realtime">Realtime View</a></li>
            <li><a href="#overlay">Overlay</a></li>
            <li><a href="#announce">Announce</a></li>
            <li>
                Result
                <ul id="ulresult">
                    <li><a href="#result-all">all</a></li>
                </ul>
            </li>
            <li><a href="#test">Test</a>
        </ul>
    </div>
    <div>
        <h3>Current Tournament</h3>
        <dl>
            <dt>Name:</dt>
            <dd id="current_tournament_name">noname</dd>
            <dt>ID:</dt>
            <dd id="current_tournament_id">none</dd>
        </dl>
        <h3>Current Observer</h3>
        <dl>
            <dt>ID:</dt>
            <dd id="current_observer_id">none</dd>
        </dl>
    </div>
    <!-- 接続状態の表示 -->
    <div id="connection-status">
        <h3>WebAPI Connection</h3>
        <div>
            <button id="connectbtn">force reconnect</button>
            <p>status: <span id="connection-status-webapi-state">connecting...</span></p>
        </div>
        <h3>LiveAPI Connection</h3>
        <div>
            <p>connection count: <span id="connection-status-liveapi-connection">0</span></p>
            <p>recv packet count: <span id="connection-status-liveapi-recv">0</span></p>
            <p>send packet count: <span id="connection-status-liveapi-send">0</span></p>
        </div>
    </div>
</div>

<div id="main">
<div id="tournament-set" class="hide">
    <h3>Tournament: set name</h3>
    <p>create new tournament or select exists tournament.</p>
    <h4>create new tournament</h4>
    <p>
        <input type="text" id="tournament-set-text" placeholder="input tournament name" /><button id="tournament-set-button">create</button>
        <br>
        ** If there is already a tournament with the same name, the existing tournament will be selected.
    </p>
    <h4>select exists tournament</h4>
    <table>
        <thead>
            <tr><th>name</th><th>ID</th></tr>
        </thead>
        <tbody id="tournamentids"></tbody>
    </table>
</div>

<div id="tournament-rename" class="hide">
    <h3>Tournament: rename</h3>
    <p>rename current tournament.</p>
    <p>
        <input type="text" id="tournament-rename-text" placeholder="input tournament name" /><button id="tournament-rename-button">rename</button>
        <br>
    </p>
</div>

<div id="observer-set" class="hide">
    <h3>Observer: set</h3>
    <h4>gather observer hash</h4>
    <p>
        <button id="observer-set-getfromlobby">get from lobby</button>
    </p>
    <h4>select observer for overlay</h4>
    <table>
        <thead>
            <tr><th>ID</th><th>name</th></tr>
        </thead>
        <tbody id="observer-set-list"></tbody>
    </table>
</div>

<div id="player-name" class="hide">
    <h3>Player: set name</h3>
    <h4>gather player hash</h4>
    <p>
        <button id="player-name-getfromresults">get from results</button>
        <button id="player-name-getfromlivedata"><s>get from current game</s></button>
        <button id="player-name-getfromlobby">get from lobby</button>
    </p>
    <h4>set player name</h4>
    <table>
        <thead>
            <tr><th>ID</th><th>name</th><th>in-game name</th><th>set name</th></tr>
        </thead>
        <tbody id="player-name-list"></tbody>
    </table>
</div>

<div id="team-name" class="hide">
    <h3>Team: set name</h3>
    <div id="team-name-container">
        <div></div>
        <div>input</div>
        <div>set name result</div>
        <pre id="team-name-num"></pre>
        <textarea id="team-name-text"></textarea>
        <pre id="team-name-output"></pre>
    </div>
    <button id="team-name-button">set name</button>
</div>

<div id="realtime" class="hide">
    <h3>Realtime View</h3>
    <div id="realtime-gameinfo"></div>
    <div id="realtime-teams"></div>
</div>

<div id="overlay" class="hide">
    <h3>Overlay</h3>
    <h4>force hide overlay</h4>
    <p>
        <label><input type="checkbox" id="overlay-hide-leaderboard" /> Force hide LeaderBoard</label>
    </p>
    <p>
        <label><input type="checkbox" id="overlay-hide-teambanner" /> Force hide TeamBanner</label>
    </p>
    <p>
        <label><input type="checkbox" id="overlay-hide-playerbanner" /> Force hide PlayerBanner</label>
    </p>
    <p>
        <label><input type="checkbox" id="overlay-hide-teamkills" /> Force hide TeamKills</label>
    </p>
    <p>
        <label><input type="checkbox" id="overlay-hide-owneditems" /> Force hide OwnedItems</label>
    </p>
    <p>
        <label><input type="checkbox" id="overlay-hide-gameinfo" /> Force hide GameInfo</label>
    </p>
    <p>
        <label><input type="checkbox" id="overlay-hide-championbanner" /> Force hide ChampionBanner</label>
    </p>
    <p>
        <label><input type="checkbox" id="overlay-hide-squadeliminated" /> Force hide SquadEliminated</label>
    </p>
    <p>
        <label><input type="checkbox" id="overlay-hide-tdmscoreboard" /> Force hide TDMScoreBoard</label>
    </p>
    <h4>select by group</h4>
    <p>
        <label><input type="checkbox" id="overlay-hide-teamplayerinfo" /> Force hide Team/Player Overlay</label>
    </p>
    <h4>match result</h4>
    <label><input type="radio" id="overlay-show-all-results" name="overlay-result-radio" value="all" checked />ALL</label><br />
    <label><input type="radio" id="overlay-show-one-result" name="overlay-result-radio" value="one" />GAMEID: <input type="number" id="overlay-show-one-result-number" min="0" value="0" />(Game1 → 0)</label>
    <p><button id="overlay-show-matchresult">show match result</button></p>
    <p><button id="overlay-hide-matchresult">hide match result</button></p>
</div>

<div id="announce" class="hide">
    <h3>Announce</h3>
    <h4>send chat</h4>
    <p>
        <input type="text" id="announce-text" /><button id="announce-button">send</button>
    </p>
</div>

<div id="result" class="hide">
    <h3>Result</h3>
    <p><a href="#result-all">show all results</a></p>
    <div id="result-game-info"></div>
    <div id="result-all-base">
        <div id="result-all-left"></div>
        <div id="result-all-right"></div>
    </div>
    <div id="result-single" class="hide"></div>
</div>

<div id="test" class="hide">
    <div>
        <h3>Leaderboard</h3>
        <button id="test-show-leaderboard">Show</button>
    </div>
    <div>
        <h3>TeamBanner</h3>
        <div>
            TeamID: <input type="number" min="0" max="29" id="test-teambanner-teamid" placeholder="0-29" value="0" /><br />
            <button id="test-show-teambanner">Show</button>
        </div>
    </div>
    <div>
        <h3>PlayerBanner</h3>
        <div>
            Player Name: <input type="text" id="test-playerbanner-name" value="" /><br />
            <button id="test-show-playerbanner">Show</button>
        </div>
    </div>
    <div>
        <h3>TeamKills</h3>
        <div>
            Kills: <input type="number" min="0" id="test-teamkills-kills" placeholder="0-" value="0" /><br />
            <button id="test-show-teamkills">Show</button>
        </div>
    </div>
    <div>
        <h3>OwnedItems</h3>
        <div>
            BackPack:
            <select id="test-owneditems-backpack">
                <option value="0">none</option>
                <option value="1">White (level 1)</option>
                <option value="2">Blue (level 2)</option>
                <option value="3">Purple (level 3)</option>
                <option value="4">Gold (level 4)</option>
            </select>
            <br />
            KnockdownShield:
            <select id="test-owneditems-knockdownshield">
                <option value="0">none</option>
                <option value="1">White (level 1)</option>
                <option value="2">Blue (level 2)</option>
                <option value="3">Purple (level 3)</option>
                <option value="4">Gold (level 4)</option>
            </select>
            <br />
            Syringe: <input type="number" min="0" max=30 id="test-owneditems-syringe" placeholder="0-30" value="0" /><br />
            MedKit: <input type="number" min="0" max=30 id="test-owneditems-medkit" placeholder="0-30" value="0" /><br />
            ShieldCell: <input type="number" min="0" max=30 id="test-owneditems-shieldcell" placeholder="0-30" value="0" /><br />
            ShieldBattery: <input type="number" min="0" max=30 id="test-owneditems-shieldbattery" placeholder="0-30" value="0" /><br />
            PhoenixKit: <input type="number" min="0" max=30 id="test-owneditems-phoenixkit" placeholder="0-30" value="0" /><br />
            UltimateAccelerant: <input type="number" min="0" max=30 id="test-owneditems-ultimateaccelerant" placeholder="0-30" value="0" /><br />
            ThermitGrenade: <input type="number" min="0" max=30 id="test-owneditems-thermitgrenade" placeholder="0-30" value="0" /><br />
            FragGrenade: <input type="number" min="0" max=30 id="test-owneditems-"fraggrenade"" placeholder="0-30" value="0" /><br />
            ArcStar: <input type="number" min="0" max=30 id="test-owneditems-arcstar" placeholder="0-30" value="0" /><br />
            <button id="test-show-owneditems">Show</button>
        </div>
    </div>
    <div>
        <h3>GameInfo</h3>
        <div>
            GameID: <input type="number" min="0" id="test-gameinfo-gameid" placeholder="0-" value="0" /><br />
            <button id="test-show-gameinfo">Show</button>
        </div>
    </div>
    <div>
        <h3>SquadEliminated</h3>
        <div>
            TeamID: <input type="number" min="0" max="29" id="test-squadeliminated-teamid" placeholder="0-29" value="0" /><br />
            <button id="test-show-squadeliminated">Show</button>
        </div>
    </div>
    <div>
        <h3>ChampionBanner</h3>
        <div>
            TeamID: <input type="number" min="0" max="29" id="test-championbanner-teamid" placeholder="0-29" value="0" /><br />
            <button id="test-show-championbanner">Show</button>
        </div>
    </div>
    <div>
        <h3>Hide</h3>
        <button id="test-hideall">Hide All</button>
    </div>
    <div>
        <h3>Set In-Game TeamName</h3>
        <div>
            TeamID: <input type="number" min="0" max="29" id="test-setteamname-teamid" placeholder="0-29" value="0" /><br />
            TeamName: <input type="text" id="test-setteamname-teamname" value="" /><br />
            <button id="test-setteamname">Set</button>
        </div>
    </div>
</div>
</div>



<script type="module">
import {
    WebAPIConfig
} from "./webapi-config.js";

window.onload = (event) => {
    const config = new WebAPIConfig("ws://127.0.0.1:20081/");
}
</script>
</body>
</html>